{"version":3,"sources":["webpack:///./src/components/Video.vue?5a32","webpack:///./node_modules/youtube-iframe/index.js","webpack:///./src/views/Editor.vue?6a10","webpack:///./src/components/Video.vue?21d9","webpack:///src/components/Video.vue","webpack:///./src/components/Video.vue?a75c","webpack:///./src/components/Video.vue?dec3","webpack:///./src/components/Caption.vue?4ae4","webpack:///./src/components/CaptionTimestampInput.vue?ad0a","webpack:///src/components/CaptionTimestampInput.vue","webpack:///./src/components/CaptionTimestampInput.vue?6a11","webpack:///./src/components/CaptionTimestampInput.vue","webpack:///src/components/Caption.vue","webpack:///./src/components/Caption.vue?e32a","webpack:///../../../src/components/VCard/VCard.ts","webpack:///../../../src/components/VCard/index.ts","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///./src/components/Caption.vue","webpack:///src/views/Editor.vue","webpack:///./src/views/Editor.vue?906f","webpack:///./src/views/Editor.vue?4176","webpack:///./src/views/Editor.vue?4864","webpack:///./src/views/Editor.vue?3d4d"],"names":["window","YouTubeIframeLoader","src","loading","loaded","listeners","load","callback","_this","this","push","setTimeout","done","onYouTubeIframeAPIReady","script","document","createElement","type","body","appendChild","length","pop","YT","module","exports","_vm","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","sortedCaptions","_v","_e","_l","caption","key","id","on","$event","addCaption","style","left","calcLeft","scrollIntoView","event","dragStarted","staticRenderFns","_m","name","computed","watch","videoID","player","loadVideoById","mounted","height","width","videoId","autoplay","playerVars","methods","props","component","model","value","localCaption","$$v","$set","expression","start","timestampChanged","end","deleting","deleteTranslation","hasChanges","undoLocalChanges","saving","saveLocalChanges","creating","canCreateTranslation","createTranslation","$emit","timestampArr","kind","timestamp","Number","required","String","data","VCol","VRow","VTextField","components","Object","msInHour","msInMin","msInSec","isTranslationValid","undefined","translatedText","mixins","flat","hover","img","link","loaderHeight","default","raised","Boolean","classes","VSheet","styles","genProgress","render","h","tag","setBackgroundColor","$slots","VCardActions","VCardText","VCardTitle","baseMixins","autoGrow","noResize","rowHeight","validator","v","isNaN","parseFloat","rows","parseInt","noResizeHandle","lazyValue","$nextTick","calculateInputHeight","input","$refs","minHeight","Math","genInput","onInput","onKeyDown","isFocused","e","VBtn","VCard","VContainer","VIcon","VSpacer","VTextarea","Translation","Video","currentTime","set","get","videoDuration","repositioning","setProperty","p","getDuration","clearInterval","interval","addEventListener","JSON","parse","packet","info","stopPropagation","preventDefault","cancelBubble","returnValue","floor","max","min","duration","repositionElement","removeEventListener","mouseup","splash","parentElement","classList","remove","offsetHeight","add","VProgressCircular"],"mappings":"+HAAA,W,wBCAC,SAASA,GACT,IAAIC,EAAsB,CACzBC,IAAK,qCACLC,SAAS,EACTC,QAAQ,EACRC,UAAW,GAEXC,KAAM,SAASC,GACd,IAAIC,EAAQC,KAGZ,GAFAA,KAAKJ,UAAUK,KAAKH,GAEjBE,KAAKL,OACPO,YAAW,WACVH,EAAMI,eAKR,IAAGH,KAAKN,QAAR,CAIAM,KAAKN,SAAU,EAEfH,EAAOa,wBAA0B,WAChCL,EAAMJ,QAAS,EACfI,EAAMI,QAGP,IAAIE,EAASC,SAASC,cAAc,UACpCF,EAAOG,KAAO,kBACdH,EAAOZ,IAAMO,KAAKP,IAClBa,SAASG,KAAKC,YAAYL,KAG3BF,KAAM,kBACEZ,EAAOa,wBAEd,MAAMJ,KAAKJ,UAAUe,OACpBX,KAAKJ,UAAUgB,KAAfZ,CAAqBT,EAAOsB,MAKKC,EAAOC,QAC1CD,EAAOC,QAAUvB,EAEjBD,EAAOC,oBAAsBA,GA/C/B,CAiDED,S,2CCjDF,IAAI,EAAS,WAAa,IAAIyB,EAAIhB,KAASiB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,iCAAiCC,MAAM,CAAC,MAAQ,KAAK,CAACH,EAAG,QAAQ,CAACE,YAAY,OAAOE,YAAY,CAAC,aAAa,IAAI,YAAY,SAAS,CAACJ,EAAG,QAAQ,CAACE,YAAY,qBAAqBE,YAAY,CAAC,aAAa,UAAUD,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACH,EAAG,cAAc,CAAEH,EAAmB,gBAAEG,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,WAAW,CAACH,EAAG,sBAAsB,CAACG,MAAM,CAAC,cAAgB,OAAO,IAAI,GAAGH,EAAG,QAAQ,CAAgC,IAA9BH,EAAIQ,eAAeb,OAAcQ,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,SAAS,CAACA,EAAG,eAAe,CAACH,EAAIS,GAAG,oCAAoC,IAAI,GAAGT,EAAIU,KAAKV,EAAIW,GAAIX,EAAkB,gBAAE,SAASY,GAAS,OAAOT,EAAG,cAAc,CAACU,IAAID,EAAQE,GAAGR,MAAM,CAAC,QAAUM,EAAQ,GAAM,WAAcA,EAAa,YAAQT,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,kBAAkB,MAAQ,QAAQS,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,gBAAgB,CAACd,EAAG,SAAS,CAACH,EAAIS,GAAG,cAAcT,EAAIS,GAAG,kBAAkB,IAAI,IAAI,IAAI,IAAI,GAAGN,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACH,EAAG,UAAU,IAAI,GAAIH,EAAiB,cAAEG,EAAG,MAAM,CAACE,YAAY,YAAYL,EAAIU,KAAKV,EAAIW,GAAIX,EAAkB,gBAAE,SAASY,GAAS,OAAOT,EAAG,MAAM,CAACU,IAAID,EAAQE,IAAI,CAACX,EAAG,MAAM,CAACE,YAAY,iBAAiBa,MAAM,CACt3CC,KAAMnB,EAAIoB,SAASR,IAChBG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIqB,eAAeT,IAAW,UAAY,SAAUU,GAAS,OAAOtB,EAAIuB,YAAYD,EAAOV,aAAoB,IAC1JY,EAAkB,G,wBCHlB,G,UAAS,WAAa,IAAIxB,EAAIhB,KAASiB,EAAGD,EAAIE,eAAsBF,EAAII,MAAMD,GAAO,OAAOH,EAAIyB,GAAG,KACnG,EAAkB,CAAC,WAAa,IAAIzB,EAAIhB,KAASiB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,YAAY,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,gB,iCCQnK,GACEoB,KAAM,QACNC,SAAU,OAAZ,OAAY,CAAZ,sBACEC,MAAO,CACLC,QADJ,WAEU7C,KAAK8C,QACP9C,KAAK8C,OAAOC,cAAc/C,KAAK6C,WAIrCG,QAVF,WAUA,WACI,EAAJ,oBACM,EAAN,iDACQC,OAAQ,OACRC,MAAO,OACPC,QAAS,EAAjB,QACQC,SAAU,EACVC,WAAY,CACVD,SAAU,UAKlBE,QAAS,GACTC,MAAO,ICjCsU,I,wBCQ3UC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAIxC,EAAIhB,KAASiB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,SAAS,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,cAAc,CAACE,YAAY,QAAQ,CAACF,EAAG,aAAa,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,eAAe,KAAO,IAAI,YAAY,GAAG,OAAS,GAAG,MAAQ,GAAG,eAAe,IAAImC,MAAM,CAACC,MAAO1C,EAAI2C,aAA2B,eAAE7D,SAAS,SAAU8D,GAAM5C,EAAI6C,KAAK7C,EAAI2C,aAAc,iBAAkBC,IAAME,WAAW,iCAAiC3C,EAAG,cAAc,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACH,EAAG,MAAM,CAACE,YAAY,OAAOE,YAAY,CAAC,mBAAmB,UAAU,gBAAgB,QAAQ,CAACJ,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACL,EAAIS,GAAG,gBAAgBN,EAAG,8BAA8B,CAACG,MAAM,CAAC,UAAYN,EAAI2C,aAAaI,MAAM,KAAO,SAAShC,GAAG,CAAC,iBAAmBf,EAAIgD,qBAAqB,KAAK7C,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACH,EAAG,MAAM,CAACE,YAAY,OAAOE,YAAY,CAAC,mBAAmB,UAAU,gBAAgB,QAAQ,CAACJ,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACL,EAAIS,GAAG,cAAcN,EAAG,8BAA8B,CAACG,MAAM,CAAC,UAAYN,EAAI2C,aAAaM,IAAI,KAAO,OAAOlC,GAAG,CAAC,iBAAmBf,EAAIgD,qBAAqB,MAAM,IAAI,IAAI,GAAG7C,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,MAAQ,MAAM,QAAUN,EAAIkD,SAAS,SAAWlD,EAAIkD,UAAUnC,GAAG,CAAC,MAAQf,EAAImD,oBAAoB,CAAChD,EAAG,SAAS,CAACH,EAAIS,GAAG,gBAAgBN,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACL,EAAIS,GAAG,yBAAyB,GAAGN,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,MAAQ,MAAM,UAAgC,IAArBN,EAAIoD,cAAwBrC,GAAG,CAAC,MAAQf,EAAIqD,mBAAmB,CAAClD,EAAG,SAAS,CAACH,EAAIS,GAAG,sBAAsBN,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACL,EAAIS,GAAG,yBAAyB,GAAGN,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,MAAQ,QAAQ,QAAUN,EAAIsD,OAAO,UAAYtE,KAAK2D,aAAa7B,KAA2B,IAArBd,EAAIoD,cAA0BpD,EAAIsD,QAAQvC,GAAG,CAAC,MAAQf,EAAIuD,mBAAmB,CAACpD,EAAG,SAAS,CAACH,EAAIS,GAAG,sBAAsBN,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACL,EAAIS,GAAG,yBAAyB,GAAGN,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,MAAQ,OAAO,QAAUN,EAAIwD,SAAS,UAA0C,IAA/BxD,EAAIyD,wBAAoCzD,EAAIwD,UAAUzC,GAAG,CAAC,MAAQf,EAAI0D,oBAAoB,CAACvD,EAAG,SAAS,CAACH,EAAIS,GAAG,gBAAgBN,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACL,EAAIS,GAAG,yBAAyB,IAAI,IAAI,IAAI,IAC19E,EAAkB,GCDlB,EAAS,WAAa,IAAIT,EAAIhB,KAASiB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,MAAM,CAACH,EAAG,eAAe,CAACE,YAAY,oBAAoBC,MAAM,CAAC,OAAS,GAAG,SAAW,GAAG,MAAQ,GAAG,eAAe,GAAG,MAAQ,SAASS,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOhB,EAAI2D,MAAM,mBAAoB3D,EAAI4D,aAAc5D,EAAI6D,QAAQpB,MAAM,CAACC,MAAO1C,EAAI4D,aAAa,GAAI9E,SAAS,SAAU8D,GAAM5C,EAAI6C,KAAK7C,EAAI4D,aAAc,EAAGhB,IAAME,WAAW,sBAAsB,GAAG3C,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,MAAM,CAACH,EAAG,eAAe,CAACE,YAAY,oBAAoBC,MAAM,CAAC,OAAS,GAAG,SAAW,GAAG,MAAQ,GAAG,eAAe,GAAG,MAAQ,WAAWS,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOhB,EAAI2D,MAAM,mBAAoB3D,EAAI4D,aAAc5D,EAAI6D,QAAQpB,MAAM,CAACC,MAAO1C,EAAI4D,aAAa,GAAI9E,SAAS,SAAU8D,GAAM5C,EAAI6C,KAAK7C,EAAI4D,aAAc,EAAGhB,IAAME,WAAW,sBAAsB,GAAG3C,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,MAAM,CAACH,EAAG,eAAe,CAACE,YAAY,oBAAoBC,MAAM,CAAC,OAAS,GAAG,SAAW,GAAG,MAAQ,GAAG,eAAe,GAAG,MAAQ,WAAWS,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOhB,EAAI2D,MAAM,mBAAoB3D,EAAI4D,aAAc5D,EAAI6D,QAAQpB,MAAM,CAACC,MAAO1C,EAAI4D,aAAa,GAAI9E,SAAS,SAAU8D,GAAM5C,EAAI6C,KAAK7C,EAAI4D,aAAc,EAAGhB,IAAME,WAAW,sBAAsB,IAAI,IACrwC,EAAkB,G,wBCgBtB,GACEpB,KAAM,wBACNa,MAAO,CACLuB,UAAW,CACTtE,KAAMuE,OACNC,UAAU,GAEZH,KAAM,CACJrE,KAAMyE,OACND,UAAU,IAGdE,KAZF,WAaI,MAAO,CACLN,aAAc,OAApB,wBAAoB,CAApB,mBC/B+V,I,yDCO3V,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,IAAiB,QAOhC,IAAkB,EAAW,CAACO,OAAA,KAAKC,OAAA,KAAKC,aAAA,O,gBCgCxC,GACE3C,KAAM,UACN4C,WAAY,CAAd,6BACE3C,SAAU,OAAZ,OAAY,CAAZ,GACA,6BAEEY,MAAO,CACL3B,QAAS,CACPpB,KAAM+E,OACNP,UAAU,IAGdE,KAZF,WAaI,MAAO,CACLvB,aAAc,OAApB,OAAoB,CAApB,iBACMO,UAAU,EACVI,QAAQ,EACRE,UAAU,IAGdlB,QAAS,CAEPU,iBAFJ,SAEA,KACM,IAAN,OACA,MACA,MAEmB,UAATa,EACF7E,KAAK2D,aAAaI,MAAQa,EAAa,GAAKY,EAAWZ,EAAa,GAAKa,EAAUb,EAAa,GAAKc,EAC7G,YACQ1F,KAAK2D,aAAaM,IAAMW,EAAa,GAAKY,EAAWZ,EAAa,GAAKa,EAAUb,EAAa,GAAKc,IAIvG,kBAdJ,WAcA,uKACA,cACA,GACA,kBACA,kBACA,6CACA,2BACA,wBAPA,KAUA,OAVA,KAUA,EAVA,SAUA,2BAVA,iEAUA,EAVA,OAWA,oBAXA,wBAYA,sFAEA,cAdA,2BAkBA,oBACA,gDACA,cApBA,+CAsBI,iBApCJ,WAoCA,uKACA,YACA,GACA,6CACA,2BACA,wBALA,KAQA,OARA,KAQA,kBARA,KAQA,EARA,SAQA,2BARA,wEAQA,EARA,OASA,qBATA,wBAUA,sFAEA,YAZA,2BAgBA,gDACA,YAjBA,+CAmBI,kBAvDJ,WAuDA,+JACA,cADA,KAEA,OAFA,KAEA,aAFA,SAEA,2BAFA,iDAEA,OAFA,aAGA,2CACA,cAJA,+CAMIrB,iBA7DJ,WA8DMrE,KAAK2D,aAAe,OAA1B,OAA0B,CAA1B,kBAGIgC,mBAjEJ,WAkEM,YAA4CC,IAArC5F,KAAK2D,aAAakC,gBAAqE,OAArC7F,KAAK2D,aAAakC,gBAAgE,KAArC7F,KAAK2D,aAAakC,gBAE1HpB,qBApEJ,WAqEM,OAAOzE,KAAK2F,2BAAiDC,IAAzB5F,KAAK2D,aAAa7B,IAExDsC,WAvEJ,WAwEM,OAAOpE,KAAK2D,aAAakC,iBAAmB7F,KAAK4B,QAAQiE,gBAC/D,8CACA,4CCvJiV,I,kFCiBlU,SAAAC,EAAA,MAAO,EAAD,YAAN,eAIN,CACPpD,KADO,SAGPa,MAAO,CACLwC,KADK,QAELC,MAFK,QAGLC,IAHK,OAILC,KAJK,QAKLC,aAAc,CACZ3F,KAAM,CAACuE,OADK,QAEZqB,QAAS,GAEXC,OAAQC,SAGV3D,SAAU,CACR4D,QADQ,WAEN,sCACE,UADK,GAEF,qCAFE,OAAP,IAGE,eAAgBvG,KAHX,KAIL,gBAAiBA,KAJZ,MAKL,eAAgBA,KALX,YAML,kBAAmBA,KANd,QAOL,mBAAoBA,KAPf,SAQL,iBAAkBA,KARb,QASFwG,EAAA,2CAGPC,OAdQ,WAeN,IAAMvE,EAAK,kBACNsE,EAAA,yCAOL,OAJIxG,KAAJ,MACEkC,EAAA,0BAA2BlC,KAA3B,2CAGF,IAIJsD,QAAS,CACPoD,YADO,WAEL,IAAMC,EAAS,wCAAf,MAEA,SAEO3G,KAAKkB,eAAe,MAAO,CAChCG,YADgC,mBAEhCQ,IAAK,YACJ,CAHH,IAFoB,OASxB8E,OAvDO,SAuDD,GACJ,MAAsB3G,KAAtB,oBAAM,EAAN,EAAM,IAAOkF,EAAb,EAAaA,KASb,OAPAA,EAAA,MAAalF,KAAb,OAEIA,KAAJ,cACEkF,EAAA,MAAaA,EAAA,OAAb,GACAA,EAAA,kBAGK0B,EAAEC,EAAK7G,KAAK8G,mBAAmB9G,KAAxB,MAAN,GAAiD,CACvDA,KADuD,cAEvDA,KAAK+G,OAFP,a,YCnFEC,EAAe,eAArB,mBAEMC,GADgB,eAAtB,oBACkB,eAAlB,iBACMC,EAAa,eAAnB,iB,oCCYMC,G,UAAa,OAAArB,EAAA,MAAnB,SAOe,EAAAqB,EAAA,OAAkB,CAC/BzE,KAD+B,aAG/Ba,MAAO,CACL6D,SADK,QAELC,SAFK,QAGLC,UAAW,CACT9G,KAAM,CAACuE,OADE,QAETqB,QAFS,GAGTmB,UAAY,SAAAC,GAAD,OAAaC,MAAMC,WAAD,MAE/BC,KAAM,CACJnH,KAAM,CAACuE,OADH,QAEJqB,QAFI,EAGJmB,UAAY,SAAAC,GAAD,OAAaC,MAAMG,SAASJ,EAAV,QAIjC7E,SAAU,CACR4D,QADQ,WAEN,uBACE,cADK,EAEL,wBAAyBvG,KAFpB,SAGL,wBAAyBA,KAHpB,gBAIFqF,EAAA,2CAGPwC,eATQ,WAUN,OAAO7H,KAAKqH,UAAYrH,KAAxB,WAIJ4C,MAAO,CACLkF,UADK,WAEH9H,KAAA,UAAiBA,KAAK+H,UAAU/H,KAAhC,uBAEFsH,UAJK,WAKHtH,KAAA,UAAiBA,KAAK+H,UAAU/H,KAAhC,wBAIJgD,QAzC+B,WAyCxB,WACL9C,YAAW,WACT,YAAiB,EAAjB,yBADF,IAKFoD,QAAS,CACP0E,qBADO,WAEL,IAAMC,EAAQjI,KAAKkI,MAAnB,MACA,MAEAD,EAAA,iBACA,IAAMhF,EAASgF,EAAf,aACME,EAAYP,SAAS5H,KAAD,KAAR,IAA0B0H,WAAW1H,KANrC,WASlBiI,EAAA,aAAqBG,KAAA,SAArB,OAEFC,SAZO,WAaL,IAAMJ,EAAQ5C,EAAA,mCAAd,MAMA,OAJA4C,EAAA,sBACOA,EAAA,WAAP,KACAA,EAAA,gBAA0BjI,KAA1B,KAEA,GAEFsI,QArBO,SAqBA,GACLjD,EAAA,0CACArF,KAAA,UAAiBA,KAAjB,wBAEFuI,UAzBO,SAyBE,GAIHvI,KAAKwI,WAAT,KAAsBC,EAAA,SACpBA,EAAA,kBAGFzI,KAAA,uBClGF,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAchC,IAAkB,EAAW,CAAC0I,OAAA,KAAKC,MAAA,EAAM3B,eAAaC,YAAU9B,OAAA,KAAKyD,aAAA,KAAWC,QAAA,KAAMzD,OAAA,KAAK0D,UAAA,KAAQC,UAAA,IC2BnG,OACErG,KAAM,WACN4C,WAAY,CACV0D,YAAJ,EACIC,MAAJ,GAEE/D,KAAM,WAAR,OACA,iBACA,mBACA,gBAEEvC,SAAU,OAAZ,OAAY,CAAZ,kBAEA,iDAFA,IAGIuG,YAAa,CACXC,IADN,SACA,2CACMC,IAFN,WAEA,uCAEIC,cAAe,CACbF,IADN,SACA,wCACMC,IAFN,WAEA,yCAEI5H,eAAgB,CACd4H,IADN,WACA,8CAGExG,MAAO,CAEL0G,cAFJ,WAGMhJ,SAASG,KAAKyB,MAAMqH,YAAY,SAAUvJ,KAAKsJ,cAAgB,WAAa,UAAW,cAEzF,QALJ,WAKA,+JACA,qBADA,SAEA,kBAFA,OAGA,qBAHA,8CAKIxG,OAVJ,WAUA,WAEA,cACM,GAAK0G,EAAL,CACA,IAAN,0BACYA,EAAEC,cACJ,EAAV,kCACUC,cAAcC,MAExB,KAGMpK,OAAOqK,iBAAiB,WAAW,SAAzC,SACA,EACQ,IACE1E,EAAO2E,KAAKC,MAAMC,EAAO7E,MACnC,UAEQ,GAAR,4DACU,IAAKA,EAAK8E,KAAKd,YACb,OAGFhE,EAAK8E,KAAKd,aAAe,IAIzB,IAHA,IAAV,gCACA,qCAEA,YACY,EAAZ,4BAEU,EAAV,sCAKE,QAvEF,WAuEA,wJACA,iEADA,8CAGE5F,QAAS,OAAX,OAAW,CAAX,kBACA,cADA,IAGI,cAHJ,WAGA,gLAEA,2CAFA,OAGA,GADA,EAFA,OAGA,kBACA,uBACA,aACA,kBACA,qBAGA,wCAVA,8CAgBI,WAnBJ,WAmBA,uKACA,4BACA,GACA,QACA,WAEA,gCACA,sBAPA,SASA,cATA,OAUA,oBAVA,8CAeIf,YAlCJ,SAkCA,gBACUD,EAAM2H,iBAAiB3H,EAAM2H,kBAC7B3H,EAAM4H,gBAAgB5H,EAAM4H,iBAChC5H,EAAM6H,cAAe,EACrB7H,EAAM8H,aAAc,EACpBpK,KAAKsJ,eAAgB,EACrB,IAAN,cACQ,IAAR,mBAGA,8EAEA,gBACQ1H,EAAQmC,MAAQqE,KAAKiC,MAAMjC,KAAKkC,IAAIlC,KAAKmC,IAAI,EAArD,qBACQ3I,EAAQqC,IAAMrC,EAAQmC,MAAQyG,GAGhCjL,OAAOqK,iBAAiB,YAAaa,GACrC,IAAN,gDACQlL,OAAOmL,oBAAoB,YAAaD,GACxClL,OAAOmL,oBAAoB,UAAWC,GACtC,EAAR,qBAMItI,eA7DJ,SA6DA,KAKIuI,OAlEJ,SAkEA,GACM,IAAN,sDACMnC,EAAEoC,cAAcC,UAAUC,OAAO,UAEjCtC,EAAEuC,aACFvC,EAAEoC,cAAcC,UAAUG,IAAI,WAKhC7I,SA5EJ,SA4EA,GAIM,MAAO,QAAb,mFCrNgV,I,kCCS5U,GAAY,eACd,EACA,EACAI,GACA,EACA,KACA,WACA,MAIa,gBAAiB,QAYhC,IAAkB,GAAW,CAACkG,OAAA,KAAKC,MAAA,EAAMzB,aAAW/B,OAAA,KAAKyD,aAAA,KAAWC,QAAA,KAAMqC,oBAAA,KAAkB9F,OAAA,Q,kFChC5F,W,kCCAA,W","file":"js/editor.c109d8e4.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=style&index=0&id=9c6e45c8&scoped=true&lang=css&\"","(function(window) {\n\tvar YouTubeIframeLoader = {\n\t\tsrc: 'https://www.youtube.com/iframe_api',\n\t\tloading: false,\n\t\tloaded: false,\n\t\tlisteners: [],\n\n\t\tload: function(callback) {\n\t\t\tvar _this = this;\n\t\t\tthis.listeners.push(callback);\n\n\t\t\tif(this.loaded) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t_this.done();\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(this.loading) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.loading = true;\n\n\t\t\twindow.onYouTubeIframeAPIReady = function() {\n\t\t\t\t_this.loaded = true;\n\t\t\t\t_this.done();\n\t\t\t};\n\n\t\t\tvar script = document.createElement('script');\n\t\t\tscript.type = 'text/javascript';\n\t\t\tscript.src = this.src;\n\t\t\tdocument.body.appendChild(script);\n\t\t},\n\n\t\tdone: function() {\n\t\t\tdelete window.onYouTubeIframeAPIReady;\n\n\t\t\twhile(this.listeners.length) {\n\t\t\t\tthis.listeners.pop()(window.YT);\n\t\t\t}\n\t\t}\n\t};\n\n\tif(typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = YouTubeIframeLoader;\n\t} else {\n\t\twindow.YouTubeIframeLoader = YouTubeIframeLoader;\n\t}\n}(window));\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"pa-0 d-flex fill-parent-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"pa-0\",staticStyle:{\"min-height\":\"0\",\"max-width\":\"100%\"}},[_c('v-col',{staticClass:\"fill-parent-height\",staticStyle:{\"overflow-y\":\"scroll\"},attrs:{\"md\":\"6\",\"cols\":\"12\"}},[_c('v-container',[(_vm.loadingCaptions)?_c('v-row',[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\"}})],1)],1):_c('v-row',[(_vm.sortedCaptions.length === 0)?_c('v-col',{staticClass:\"pr-0\",attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"No caption entries to display\")])],1)],1):_vm._e(),_vm._l((_vm.sortedCaptions),function(caption){return _c('Translation',{key:caption.id,attrs:{\"caption\":caption,\"id\":(\"caption-\" + (caption.index))}})}),_c('v-col',{staticClass:\"pr-0\",attrs:{\"cols\":\"12\"}},[_c('v-btn',{attrs:{\"id\":\"new-caption-btn\",\"width\":\"100%\"},on:{\"click\":function($event){return _vm.addCaption()}}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" New Caption \")],1)],1)],2)],1)],1),_c('v-col',{staticClass:\"px-0 fill-parent-height\",attrs:{\"md\":\"6\",\"cols\":\"12\"}},[_c('Video')],1)],1),(_vm.repositioning)?_c('div',{staticClass:\"overlay\"}):_vm._e(),_vm._l((_vm.sortedCaptions),function(caption){return _c('div',{key:caption.id},[_c('div',{staticClass:\"caption-marker\",style:({\n        left: _vm.calcLeft(caption),\n        }),on:{\"click\":function($event){return _vm.scrollIntoView(caption);},\"mousedown\":function (event) { return _vm.dragStarted(event, caption); }}})])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('div',{attrs:{\"id\":\"player\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"wrapper\">\n    <div id=\"player\" />\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport YouTubeIframeLoader from 'youtube-iframe';\nexport default {\n  name: 'Video',\n  computed: mapState(['player', 'videoID']),\n  watch: {\n    videoID() {\n      if (this.player) {\n        this.player.loadVideoById(this.videoID);\n      }\n    }\n  },\n  mounted() {\n    YouTubeIframeLoader.load(YT => {\n      this.$store.commit('setPlayer', new YT.Player('player', {\n        height: '100%',\n        width: '100%',\n        videoId: this.videoID,\n        autoplay: 1,\n        playerVars: {\n          autoplay: 1\n        }\n      }));\n    });\n  },\n  methods: { },\n  props: {\n  }\n};\n</script>\n\n<style scoped>\n  #wrapper {\n    width: 100%;\n    height: 100%;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Video.vue?vue&type=template&id=9c6e45c8&scoped=true&\"\nimport script from \"./Video.vue?vue&type=script&lang=js&\"\nexport * from \"./Video.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Video.vue?vue&type=style&index=0&id=9c6e45c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9c6e45c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-col',{staticClass:\"py-2 pr-0\",attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"grey darken-4\",attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"pa-3\"},[_c('v-textarea',{staticClass:\"pt-0\",attrs:{\"label\":\"Caption Text\",\"rows\":\"1\",\"auto-grow\":\"\",\"filled\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.localCaption.translatedText),callback:function ($$v) {_vm.$set(_vm.localCaption, \"translatedText\", $$v)},expression:\"localCaption.translatedText\"}}),_c('v-container',{staticClass:\"pb-0 px-0 pt-5\"},[_c('v-row',[_c('v-col',{staticClass:\"pt-1\",attrs:{\"lg\":\"6\",\"cols\":\"12\"}},[_c('div',{staticClass:\"px-3\",staticStyle:{\"background-color\":\"#1f1f1f\",\"border-radius\":\"6px\"}},[_c('h4',{staticClass:\"text-center pb-1\"},[_vm._v(\"Start Time\")]),_c('translation-timestamp-input',{attrs:{\"timestamp\":_vm.localCaption.start,\"kind\":\"start\"},on:{\"timestampChanged\":_vm.timestampChanged}})],1)]),_c('v-col',{staticClass:\"pt-1\",attrs:{\"lg\":\"6\",\"cols\":\"12\"}},[_c('div',{staticClass:\"px-3\",staticStyle:{\"background-color\":\"#1f1f1f\",\"border-radius\":\"6px\"}},[_c('h4',{staticClass:\"text-center pb-1\"},[_vm._v(\"End Time\")]),_c('translation-timestamp-input',{attrs:{\"timestamp\":_vm.localCaption.end,\"kind\":\"end\"},on:{\"timestampChanged\":_vm.timestampChanged}})],1)])],1)],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"plain\":\"\",\"small\":\"\",\"color\":\"red\",\"loading\":_vm.deleting,\"disabled\":_vm.deleting},on:{\"click\":_vm.deleteTranslation}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_c('span',{staticClass:\"hidden-md-and-down\"},[_vm._v(\"Delete Translation\")])],1),_c('v-btn',{attrs:{\"plain\":\"\",\"small\":\"\",\"color\":\"red\",\"disabled\":_vm.hasChanges() === false},on:{\"click\":_vm.undoLocalChanges}},[_c('v-icon',[_vm._v(\"mdi-undo-variant\")]),_c('span',{staticClass:\"hidden-md-and-down\"},[_vm._v(\"Undo Modifications\")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"plain\":\"\",\"small\":\"\",\"color\":\"green\",\"loading\":_vm.saving,\"disabled\":!this.localCaption.id || _vm.hasChanges() === false || _vm.saving},on:{\"click\":_vm.saveLocalChanges}},[_c('v-icon',[_vm._v(\"mdi-content-save\")]),_c('span',{staticClass:\"hidden-md-and-down\"},[_vm._v(\"Save Modifications\")])],1),_c('v-btn',{attrs:{\"plain\":\"\",\"small\":\"\",\"color\":\"blue\",\"loading\":_vm.creating,\"disabled\":_vm.canCreateTranslation() === false || _vm.creating},on:{\"click\":_vm.createTranslation}},[_c('v-icon',[_vm._v(\"mdi-upload\")]),_c('span',{staticClass:\"hidden-md-and-down\"},[_vm._v(\"Create Translation\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{staticClass:\"caption-timestamp\",attrs:{\"filled\":\"\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"label\":\"Hours\"},on:{\"change\":function($event){return _vm.$emit('timestampChanged', _vm.timestampArr, _vm.kind)}},model:{value:(_vm.timestampArr[0]),callback:function ($$v) {_vm.$set(_vm.timestampArr, 0, $$v)},expression:\"timestampArr[0]\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{staticClass:\"caption-timestamp\",attrs:{\"filled\":\"\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"label\":\"Minutes\"},on:{\"change\":function($event){return _vm.$emit('timestampChanged', _vm.timestampArr, _vm.kind)}},model:{value:(_vm.timestampArr[1]),callback:function ($$v) {_vm.$set(_vm.timestampArr, 1, $$v)},expression:\"timestampArr[1]\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{staticClass:\"caption-timestamp\",attrs:{\"filled\":\"\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"label\":\"Seconds\"},on:{\"change\":function($event){return _vm.$emit('timestampChanged', _vm.timestampArr, _vm.kind)}},model:{value:(_vm.timestampArr[2]),callback:function ($$v) {_vm.$set(_vm.timestampArr, 2, $$v)},expression:\"timestampArr[2]\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row>\n    <v-col cols=\"4\">\n      <v-text-field class=\"caption-timestamp\" filled outlined dense hide-details label=\"Hours\" v-model=\"timestampArr[0]\" @change=\"$emit('timestampChanged', timestampArr, kind)\"/>\n    </v-col>\n    <v-col cols=\"4\">\n      <v-text-field class=\"caption-timestamp\" filled outlined dense hide-details label=\"Minutes\" v-model=\"timestampArr[1]\" @change=\"$emit('timestampChanged', timestampArr, kind)\"/>\n    </v-col>\n    <v-col cols=\"4\">\n      <v-text-field class=\"caption-timestamp\" filled outlined dense hide-details label=\"Seconds\" v-model=\"timestampArr[2]\" @change=\"$emit('timestampChanged', timestampArr, kind)\"/>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport { convertToClockTime } from '@/js/utils';\n\nexport default {\n  name: 'CaptionTimestampInput',\n  props: {\n    timestamp: {\n      type: Number,\n      required: true\n    },\n    kind: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      timestampArr: convertToClockTime(this.timestamp)\n    };\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaptionTimestampInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaptionTimestampInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CaptionTimestampInput.vue?vue&type=template&id=338cb22e&scoped=true&\"\nimport script from \"./CaptionTimestampInput.vue?vue&type=script&lang=js&\"\nexport * from \"./CaptionTimestampInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"338cb22e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCol,VRow,VTextField})\n","<template>\n  <v-col cols=\"12\" class=\"py-2 pr-0\">\n    <v-card class=\"grey darken-4\" flat>\n      <v-card-text class=\"pa-3\">\n        <v-textarea class=\"pt-0\" label=\"Caption Text\" rows=\"1\" auto-grow filled dense hide-details\n                    v-model=\"localCaption.translatedText\"/>\n\n        <v-container class=\"pb-0 px-0 pt-5\">\n          <v-row>\n            <v-col lg=\"6\" cols=\"12\" class=\"pt-1\">\n              <div class=\"px-3\" style=\"background-color: #1f1f1f; border-radius: 6px\">\n                <h4 class=\"text-center pb-1\">Start Time</h4>\n                <translation-timestamp-input :timestamp=\"localCaption.start\" @timestampChanged=\"timestampChanged\" kind=\"start\"/>\n              </div>\n            </v-col>\n\n            <v-col lg=\"6\" cols=\"12\" class=\"pt-1\">\n              <div class=\"px-3\" style=\"background-color: #1f1f1f; border-radius: 6px\">\n                <h4 class=\"text-center pb-1\">End Time</h4>\n                <translation-timestamp-input :timestamp=\"localCaption.end\" @timestampChanged=\"timestampChanged\" kind=\"end\"/>\n              </div>\n            </v-col>\n          </v-row>\n        </v-container>\n      </v-card-text>\n\n      <v-card-actions>\n        <v-btn plain small color=\"red\" :loading=\"deleting\" :disabled=\"deleting\" @click=\"deleteTranslation\">\n          <v-icon>mdi-delete</v-icon>\n          <!-- TODO check if this is our translation, or someone else's. If it's someone else's, and we aren't a verified TL, then display \"Request Delete\" -->\n          <span class=\"hidden-md-and-down\">Delete Translation</span>\n        </v-btn>\n        <v-btn plain small color=\"red\" :disabled=\"hasChanges() === false\" @click=\"undoLocalChanges\">\n          <v-icon>mdi-undo-variant</v-icon>\n          <span class=\"hidden-md-and-down\">Undo Modifications</span>\n        </v-btn>\n        <v-spacer/>\n        <v-btn plain small color=\"green\" :loading=\"saving\"\n               :disabled=\"!this.localCaption.id || hasChanges() === false || saving\" @click=\"saveLocalChanges\">\n          <v-icon>mdi-content-save</v-icon>\n          <span class=\"hidden-md-and-down\">Save Modifications</span>\n        </v-btn>\n        <v-btn plain small color=\"blue\" :loading=\"creating\" :disabled=\"canCreateTranslation() === false || creating\"\n               @click=\"createTranslation\">\n          <v-icon>mdi-upload</v-icon>\n          <span class=\"hidden-md-and-down\">Create Translation</span>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-col>\n</template>\n\n<script>\nimport TranslationTimestampInput from './CaptionTimestampInput';\nimport { mapState } from 'vuex';\nimport { createTranslation, deleteTranslation, updateTranslation } from '@livetl/api-wrapper';\n\nexport default {\n  name: 'Caption',\n  components: { TranslationTimestampInput },\n  computed: {\n    ...mapState(['videoID'])\n  },\n  props: {\n    caption: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      localCaption: { ...this.caption },\n      deleting: false,\n      saving: false,\n      creating: false\n    };\n  },\n  methods: {\n    // event handlers\n    timestampChanged(timestampArr, kind) {\n      const msInHour = 3_600_000;\n      const msInMin = 60_000;\n      const msInSec = 1_000;\n\n      if (kind === 'start') {\n        this.localCaption.start = timestampArr[0] * msInHour + timestampArr[1] * msInMin + timestampArr[2] * msInSec;\n      } else if (kind === 'end') {\n        this.localCaption.end = timestampArr[0] * msInHour + timestampArr[1] * msInMin + timestampArr[2] * msInSec;\n      }\n    },\n    // actions\n    async createTranslation() {\n      this.creating = true;\n      const translation = {\n        videoId: this.videoID,\n        languageCode: 'en', // TODO don't hardcode to en\n        translatedText: this.localCaption.translatedText,\n        start: this.localCaption.start,\n        end: this.localCaption.end\n      };\n\n      const response = await createTranslation(translation, await this.$auth.getTokenSilently());\n      if (typeof response !== 'number') {\n        console.debug(`Got error message \"${response}\" when creating translation with API`);\n        // TODO should probably show an error modal here\n        this.creating = false;\n        return;\n      }\n\n      this.localCaption.id = response;\n      this.$store.commit('modifyCaption', this.localCaption);\n      this.creating = false;\n    },\n    async saveLocalChanges() {\n      this.saving = true;\n      const translation = {\n        translatedText: this.localCaption.translatedText,\n        start: this.localCaption.start,\n        end: this.localCaption.end\n      };\n\n      const response = await updateTranslation(this.localCaption.id, translation, await this.$auth.getTokenSilently());\n      if (typeof (response) !== 'boolean') {\n        console.debug(`Got error message \"${response}\" when creating translation with API`);\n        // TODO should probably show an error modal here\n        this.saving = false;\n        return;\n      }\n\n      this.$store.commit('modifyCaption', this.localCaption);\n      this.saving = false;\n    },\n    async deleteTranslation() {\n      this.deleting = true;\n      await deleteTranslation(this.caption.id, 'TODO', await this.$auth.getTokenSilently()); // TODO don't hardcode delete reason\n      this.$store.commit('deleteCaption', this.caption);\n      this.deleting = false;\n    },\n    undoLocalChanges() {\n      this.localCaption = { ...this.caption };\n    },\n    // validators\n    isTranslationValid() {\n      return this.localCaption.translatedText !== undefined && this.localCaption.translatedText !== null && this.localCaption.translatedText !== ''; // TODO more involved validation\n    },\n    canCreateTranslation() {\n      return this.isTranslationValid() && this.localCaption.id === undefined;\n    },\n    hasChanges() {\n      return this.localCaption.translatedText !== this.caption.translatedText ||\n        this.localCaption.start !== this.caption.start ||\n        this.localCaption.end !== this.caption.end;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Caption.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Caption.vue?vue&type=script&lang=js&\"","// Styles\nimport './VCard.sass'\n\n// Extensions\nimport VSheet from '../VSheet'\n\n// Mixins\nimport Loadable from '../../mixins/loadable'\nimport Routable from '../../mixins/routable'\n\n// Helpers\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Loadable,\n  Routable,\n  VSheet\n).extend({\n  name: 'v-card',\n\n  props: {\n    flat: Boolean,\n    hover: Boolean,\n    img: String,\n    link: Boolean,\n    loaderHeight: {\n      type: [Number, String],\n      default: 4,\n    },\n    raised: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-card': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-card--flat': this.flat,\n        'v-card--hover': this.hover,\n        'v-card--link': this.isClickable,\n        'v-card--loading': this.loading,\n        'v-card--disabled': this.disabled,\n        'v-card--raised': this.raised,\n        ...VSheet.options.computed.classes.call(this),\n      }\n    },\n    styles (): object {\n      const style: Dictionary<string> = {\n        ...VSheet.options.computed.styles.call(this),\n      }\n\n      if (this.img) {\n        style.background = `url(\"${this.img}\") center center / cover no-repeat`\n      }\n\n      return style\n    },\n  },\n\n  methods: {\n    genProgress () {\n      const render = Loadable.options.methods.genProgress.call(this)\n\n      if (!render) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-card__progress',\n        key: 'progress',\n      }, [render])\n    },\n  },\n\n  render (h): VNode {\n    const { tag, data } = this.generateRouteLink()\n\n    data.style = this.styles\n\n    if (this.isClickable) {\n      data.attrs = data.attrs || {}\n      data.attrs.tabindex = 0\n    }\n\n    return h(tag, this.setBackgroundColor(this.color, data), [\n      this.genProgress(),\n      this.$slots.default,\n    ])\n  },\n})\n","import VCard from './VCard'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VCardActions = createSimpleFunctional('v-card__actions')\nconst VCardSubtitle = createSimpleFunctional('v-card__subtitle')\nconst VCardText = createSimpleFunctional('v-card__text')\nconst VCardTitle = createSimpleFunctional('v-card__title')\n\nexport {\n  VCard,\n  VCardActions,\n  VCardSubtitle,\n  VCardText,\n  VCardTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCard,\n    VCardActions,\n    VCardSubtitle,\n    VCardText,\n    VCardTitle,\n  },\n}\n","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./Caption.vue?vue&type=template&id=4e18f104&\"\nimport script from \"./Caption.vue?vue&type=script&lang=js&\"\nexport * from \"./Caption.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCol,VContainer,VIcon,VRow,VSpacer,VTextarea})\n","<template style=\"overflow-y: hidden\">\n  <v-container fluid class=\"pa-0 d-flex fill-parent-height\">\n    <v-row class=\"pa-0\" style=\"min-height: 0; max-width: 100%\">\n      <!-- TODO FIXME for some reason setting max-width to 100% adds 10px of spacing between the right edge of the page, and the video, but without it, there's horizontal scrolling on mobile -->\n      <!-- begin left caption panel -->\n      <v-col md=\"6\" cols=\"12\" class=\"fill-parent-height\" style=\"overflow-y: scroll\">\n        <v-container>\n          <v-row v-if=\"loadingCaptions\">\n            <v-col align=\"center\">\n              <v-progress-circular indeterminate/>\n            </v-col>\n          </v-row>\n          <v-row v-else>\n            <v-col v-if=\"sortedCaptions.length === 0\" cols=\"12\" class=\"pr-0\">\n              <v-card>\n                <v-card-title>No caption entries to display</v-card-title>\n              </v-card>\n            </v-col>\n            <Translation v-for=\"caption in sortedCaptions\" :key=\"caption.id\" :caption=\"caption\"\n                         :id=\"`caption-${caption.index}`\"/>\n            <v-col cols=\"12\" class=\"pr-0\">\n              <v-btn id=\"new-caption-btn\" @click=\"addCaption()\" width=\"100%\">\n                <v-icon>mdi-plus</v-icon>\n                New Caption\n              </v-btn>\n            </v-col>\n          </v-row>\n        </v-container>\n      </v-col>\n\n      <!-- begin right video panel -->\n      <v-col md=\"6\" cols=\"12\" class=\"px-0 fill-parent-height\">\n        <Video/>\n      </v-col>\n      <!-- end right video panel -->\n    </v-row>\n\n    <!-- begin overlay to prevent mouse glitches -->\n    <div class=\"overlay\" v-if=\"repositioning\"/>\n    <!-- end overlay -->\n\n    <!-- begin yellow video time markers TODO move to caption.vue, and make it listen for the `timestampChanged` event -->\n    <div v-for=\"caption in sortedCaptions\" :key=\"caption.id\">\n      <div class=\"caption-marker\" :style=\"{\n          left: calcLeft(caption),\n          }\" @click=\"scrollIntoView(caption);\"\n           @mousedown=\"event => dragStarted(event, caption)\"></div>\n    </div>\n    <!-- end video time markers -->\n  </v-container>\n</template>\n\n<script>\nimport Video from '../components/Video.vue';\nimport Translation from '../components/Caption';\nimport { mapState } from 'vuex';\nimport utils from '../js/utils.js';\nimport { loadTranslations } from '@livetl/api-wrapper';\n\nexport default {\n  name: 'EditorUI',\n  components: {\n    Translation,\n    Video\n  },\n  data: () => ({\n    repositioning: false,\n    loadingCaptions: false,\n    videoWidth: 0.5\n  }),\n  computed: {\n    // captions in order of time\n    ...mapState(['player', 'videoID', 'captions']),\n    currentTime: {\n      set(val) { this.$store.commit('setCurrentTime', val); },\n      get() { return this.$store.state.currentTime; }\n    },\n    videoDuration: {\n      set(val) { this.$store.commit('setDuration', val); },\n      get() { return this.$store.state.videoDuration; }\n    },\n    sortedCaptions: {\n      get() { return this.$store.getters.sortedCaptions; }\n    }\n  },\n  watch: {\n    // set the appropriate cursor\n    repositioning() {\n      document.body.style.setProperty('cursor', this.repositioning ? 'grabbing' : 'default', 'important');\n    },\n    async videoID() {\n      this.loadingCaptions = true;\n      await this.initLiveTLAPI();\n      this.loadingCaptions = false;\n    },\n    player() {\n      // update timestamp frequently\n      const p = this.player;\n      if (!p) return;\n      const interval = setInterval(() => {\n        if (p.getDuration) {\n          this.videoDuration = p.getDuration() * 1000;\n          clearInterval(interval);\n        }\n      }, 100);\n\n      // listen to player seek events\n      window.addEventListener('message', packet => {\n        let data;\n        try {\n          data = JSON.parse(packet.data);\n        } catch { }\n\n        if (data?.event === 'infoDelivery') {\n          if (!data.info.currentTime) {\n            return;\n          }\n\n          data.info.currentTime *= 1000;\n          const left = this.binarySearch(this.currentTime);\n          const right = this.binarySearch(data.info.currentTime);\n          // animate caption entries that are supposed to be shown now\n          for (let i = left; i < right; i++) {\n            this.splash(this.sortedCaptions[i]); // this seems to break and constantly animate after hot reload. TODO Investigate to make sure it won't happen in prod\n          }\n          this.currentTime = data.info.currentTime;\n        }\n      });\n    }\n  },\n  async mounted() {\n    this.$store.commit('setVideoID', this.$route.params.videoID || this.videoID);\n  },\n  methods: {\n    ...utils,\n    // start initializer methods\n    async initLiveTLAPI() {\n      // load initial batch of tls (ree why can't I have native named parameters)\n      const tls = await loadTranslations(this.videoID, 'en', -1, [], [], false);\n      if (Array.isArray(tls)) {\n        for (let i = 0; i < tls.length; i++) {\n          tls[i].index = i;\n          if (tls[i].end === null) {\n            tls[i].end = tls[i].start;\n          }\n        }\n        this.$store.commit('initializeCaptions', tls);\n      }\n    },\n    // end initializer methods\n\n    // start actions\n    async addCaption() {\n      const currentTime = Math.floor(this.currentTime);\n      const caption = {\n        start: currentTime,\n        end: currentTime + 1000 * 5 // default to 5s after start\n      };\n      this.$store.commit('addCaption', caption);\n      this.player.pauseVideo(); // TODO add a setting for this\n\n      await this.$nextTick();\n      this.scrollIntoView(caption);\n    },\n    // end actions\n\n    // start event handlers\n    dragStarted(event, caption) {\n      if (event.stopPropagation) event.stopPropagation();\n      if (event.preventDefault) event.preventDefault();\n      event.cancelBubble = true;\n      event.returnValue = false;\n      this.repositioning = true;\n      const repositionElement = (event) => {\n        const time = this.videoDuration *\n          // TODO FIXME this can be uncommented, and the line below removed, when the page width issue at the top of the file is resolved\n          // (event.clientX - 10 - window.innerWidth * this.videoWidth) / (window.innerWidth * this.videoWidth - 20);\n          (event.clientX - window.innerWidth * this.videoWidth) / (window.innerWidth * this.videoWidth - 20);\n\n        const duration = caption.end - caption.start;\n        caption.start = Math.floor(Math.max(Math.min(this.videoDuration, time), 0));\n        caption.end = caption.start + duration;\n        // this.player.seekTo(time); // I don't know if I should re-enable this, personally I don't like the seek-on-drag (plus I don't wanna fix it)\n      };\n      window.addEventListener('mousemove', repositionElement);\n      const mouseup = window.addEventListener('mouseup', () => {\n        window.removeEventListener('mousemove', repositionElement);\n        window.removeEventListener('mouseup', mouseup);\n        this.repositioning = false;\n      });\n    },\n    // end event handlers\n\n    // start dom triggers\n    scrollIntoView(caption) {\n      // FIXME for whatever reason, the height/layout of the page completely breaks when scrolling to the bottom element\n      // const e = document.getElementById(`caption-${caption.index}`);\n      // e.scrollIntoView({ behavior: 'smooth', block: 'end', inline: 'end' });\n    },\n    splash(caption) {\n      const e = document.getElementById(`caption-${caption.index}`);\n      e.parentElement.classList.remove('splash');\n      // eslint-disable-next-line no-unused-expressions\n      e.offsetHeight;\n      e.parentElement.classList.add('splash');\n    },\n    // end dom triggers\n\n    // start utility functions\n    calcLeft(caption) {\n      // calculate the left offset of caption markers\n      // TODO FIXME this can be uncommented, and the line below removed, when the page width issue at the top of the file is resolved\n      // return `calc(${(caption.start / this.videoDuration)} * (50% - 20px) + 10px - var(--width) / 2 + 50%)`;\n      return `calc(${(caption.start / this.videoDuration)} * (50% - 20px) - var(--width) / 2 + 50%)`;\n    }\n    // end utility functions\n  }\n};\n</script>\n\n<style>\nhtml {\n  overflow-y: hidden !important;\n}\n</style>\n\n<style scoped>\n.fill-parent-height {\n  height: 100%;\n}\n\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n.caption-marker {\n  background-color: gold;\n  height: 25px;\n  position: fixed;\n  bottom: 29px;\n  --width: 4px;\n  width: var(--width);\n  transition: 0.1s;\n  transition: left 0s;\n  cursor: grab;\n  border-radius: 2px;\n}\n\n.caption-marker:hover {\n  --width: 10px;\n  background-color: orange;\n  z-index: 5;\n}\n\n::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n\n::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #888;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n\n* {\n  scrollbar-width: thin;\n}\n\n@keyframes splash {\n  from {\n    background-color: rgba(0, 119, 255, 0.466);\n  }\n  to {\n  }\n}\n\n.splash {\n  animation: splash 1s normal forwards ease-in-out;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=4552879d&scoped=true&style=overflow-y%3A%20hidden&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./Editor.vue?vue&type=style&index=1&id=4552879d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4552879d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VCol,VContainer,VIcon,VProgressCircular,VRow})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=1&id=4552879d&scoped=true&lang=css&\""],"sourceRoot":""}